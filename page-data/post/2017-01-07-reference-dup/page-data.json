{"componentChunkName":"component---src-templates-post-js","path":"/post/2017-01-07-reference-dup/","webpackCompilationHash":"8382da015d28b82873b5","result":{"data":{"site":{"siteMetadata":{"title":"℘ make now just"}},"markdownRemark":{"html":"<script async src=\"//cdn.embedly.com/widgets/platform.js\"></script>\n<h1>やったこと</h1>\n<h2><code>Reference#dup</code>がファイルprivateなクラスに対して動かないのを修正した</h2>\n<p><a class=\"embedly-card\" href=\"https://github.com/crystal-lang/crystal/pull/3858\">Fix Reference#dup of file private class by MakeNowJust · Pull Request #3858 · crystal-lang/crystal</a></p>\n<p>タイトルだけ見ると<code>src/reference.cr</code>を弄ったかのようだけど、実際はコンパイラを弄ってる。具体的には、マクロ展開の際に<code>{{@type}}</code>を特別扱いして、そのクラスが定義された場所の<code>#&#x3C;loc:></code>プラグマで囲っている。こうすることでファイルprivateなクラスでも上手く動くようになる。</p>\n<h1>やること</h1>\n<p>傷物語を観に行くぞい。</p>","fields":{"date":"2017-01-07"},"frontmatter":{"title":"Reference#dupがファイルprivateなクラスに対して動かないのを修正した"},"excerpt":"やったこと Reference#dupがファイルprivateなクラスに対して動かないのを修正した Fix Reference#dup of file private class by MakeNowJust · Pull Request #3858 · crystal-lan…"},"prev":{"fields":{"date":"2017-01-08","slug":"/post/2017-01-08-kizumonogatari/"},"frontmatter":{"title":"傷物語Ⅲを観た"}},"next":{"fields":{"date":"2017-01-06","slug":"/post/2017-01-06-ppap-quine-empty-class-pretty-print/"},"frontmatter":{"title":"PPAPでQuineを書いた"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/post/2017-01-07-reference-dup/","prevSlug":"/post/2017-01-08-kizumonogatari/","nextSlug":"/post/2017-01-06-ppap-quine-empty-class-pretty-print/"}}}