{"componentChunkName":"component---src-templates-post-js","path":"/post/2019-01-31-diary/","result":{"data":{"site":{"id":"Site","siteMetadata":{"title":"℘ make now just"}},"markdownRemark":{"id":"1011a815-9198-5ecb-953f-c3206b055246","html":"<h1>やったこと</h1>\n<h2>疲れてる</h2>\n<p>なんか体調に限界を感じる。</p>\n<p>しんどみ。</p>\n<h2>Invertible Syntax Descriptionsを実装してみてる</h2>\n<p><a href=\"http://www.informatik.uni-marburg.de/~rendel/unparse/rendel10invertible.pdf\" class=\"embedly-card\">http://www.informatik.uni-marburg.de/~rendel/unparse/rendel10invertible.pdf</a></p>\n<p>ParserとPretty Printerを一気に実装できるやつ。</p>\n<p>Scalaで実装すると、評価順序とかを一々考えなければなー、となることを除けばわりと動く。catsの型クラスを使ってみていて楽しい。</p>\n<p>一つ気になるのは<code>Iso</code>が<code>Arrow</code>とか<code>ArrowChoice</code>にならないこと。<br>\nなんというかすごくそれっぽいのにならないのが気になる。<br>\nこれは<code>Profunctor</code>にならないこと、というか普通の関数を<code>Iso</code>に持ち上げようが無いことが原因なのだと思う。<br>\nつまり、</p>\n<pre><code class=\"hljs language-scala\"><span class=\"hljs-class\"><span class=\"hljs-keyword\">trait</span> <span class=\"hljs-title\">Profunctor</span>[<span class=\"hljs-type\">F</span>[_, _]] </span>{\n  <span class=\"hljs-function\"><span class=\"hljs-keyword\">def</span> <span class=\"hljs-title\">dimap</span></span>[<span class=\"hljs-type\">A</span>, <span class=\"hljs-type\">B</span>, <span class=\"hljs-type\">C</span>, <span class=\"hljs-type\">D</span>](fab: <span class=\"hljs-type\">F</span>[<span class=\"hljs-type\">A</span>, <span class=\"hljs-type\">B</span>])(f: <span class=\"hljs-type\">C</span> => <span class=\"hljs-type\">A</span>)(g: <span class=\"hljs-type\">B</span> => <span class=\"hljs-type\">D</span>): <span class=\"hljs-type\">F</span>[<span class=\"hljs-type\">C</span>, <span class=\"hljs-type\">D</span>]\n}</code></pre>\n<p>が実装しようが無い。いや、型を合わせるだけなら不可能じゃないのだけど、どう考えてもlawを満たさないのでNG。</p>\n<p>これは普通の関数の圏じゃなくて、<code>Iso</code>の圏上の<code>Profunctor</code>を考えるといいっぽいのだけど、</p>","fields":{"date":"2019-01-31"},"frontmatter":{"title":"疲れている"},"excerpt":"やったこと 疲れてる なんか体調に限界を感じる。 しんどみ。 Invertible Syntax Descriptionsを実装してみてる http://www.informatik.uni-marburg.de/~rendel/unparse/rendel10invertib…"},"prev":{"id":"6779b2d6-7e64-5312-af82-59a188fd5d7a","fields":{"date":"2019-02-01","slug":"/post/2019-02-01-diary/"},"frontmatter":{"title":"アストラエアの白き永遠をインストールした"}},"next":{"id":"2922e04d-9eb6-5f16-b3a0-a53a4f509c81","fields":{"date":"2019-01-30","slug":"/post/2019-01-30-diary/"},"frontmatter":{"title":"メイドインアビスのコメンタリー付き上映会に行った"}}},"pageContext":{"slug":"/post/2019-01-31-diary/","prevSlug":"/post/2019-02-01-diary/","nextSlug":"/post/2019-01-30-diary/"}}}