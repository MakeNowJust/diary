{"componentChunkName":"component---src-templates-post-js","path":"/post/2018-12-20-diary/","webpackCompilationHash":"7c1f895c57cebbba027b","result":{"data":{"site":{"siteMetadata":{"title":"℘ make now just"}},"markdownRemark":{"html":"<h1>やったこと</h1>\n<h2>md.htmlのバージョンを表示するようにした</h2>\n<p>単体でスクリプトを配布するならバージョン表示が欲しいなぁ、と思ったので。</p>\n<p>ついでにreadme.mdのバージョンをチェックするテストを仕込んだ。</p>\n<h2>Crystalに2つくらいPull Requestを出した</h2>\n<p><a href=\"https://github.com/crystal-lang/crystal/pull/7207\" class=\"embedly-card\">https://github.com/crystal-lang/crystal/pull/7207</a></p>\n<p><code>spec</code>の<code>it</code>と<code>pending</code>がネストしてるときにエラーになるようにした。</p>\n<p>実装方法は<code>Scope</code>というモジュールに<code>it</code>と<code>pending</code>を呼び出したらエラーになるマクロを定義して<code>with Scope yield</code>した。</p>\n<p>この方法だとコンパイル時にエラーを検知できて便利なんだけど、一方で<code>with ... yield</code>使うのどうなの？　とか、<code>it</code>がスコープから直接呼び出されてない場合検出できないのが問題になる。</p>\n<p>色々あってランタイムのチェックにしようという気持ちになった。コンセプトは悪くないと思うんだけど、現実はかくも難しい‥‥。</p>\n<p><a href=\"https://github.com/crystal-lang/crystal/pull/7208\" class=\"embedly-card\">https://github.com/crystal-lang/crystal/pull/7208</a></p>\n<p><code>require</code>中の通常の(コンパイラ関連でない)エラーが、なぜかコンパイラのエラーにラップされるので、スタックトレースふぁ出なくて不便だったのを直した。</p>\n<p>これは特に文句もなくマージされると思う。<br>\nと思ったら寝る前にマージされた。早い。</p>\n<p>個人的には、一応Aryに意図を訊ねた方が良かったと思うんだけど‥‥。</p>\n<h2>Crystal Advent Calendarの20日目を書いた</h2>\n<p><a href=\"https://qiita.com/make_now_just/items/8402282fb5cb420ddf06\" class=\"embedly-card\">https://qiita.com/make_now_just/items/8402282fb5cb420ddf06</a></p>\n<p>しかし書いた側から意見を変える人の鑑。<br>\n真似するなよ。</p>\n<h2>今週のもぐキチ</h2>\n<p>シュークリーム作ってた。</p>\n<p>完全に原優子さんに惚れた。拓海のファンになります。</p>\n<p>とりあえずWILD WIND GIRL買います。</p>","fields":{"date":"2018-12-20"},"frontmatter":{"title":"Crystalに2つくらいPull Requestを出した"},"excerpt":"やったこと md.htmlのバージョンを表示するようにした 単体でスクリプトを配布するならバージョン表示が欲しいなぁ、と思ったので。 ついでにreadme.mdのバージョンをチェックするテストを仕込んだ。 Crystalに2つくらいPull Requestを出した https:…"},"prev":{"fields":{"date":"2018-12-21","slug":"/post/2018-12-21-diary/"},"frontmatter":{"title":"何も分からん一日だった"}},"next":{"fields":{"date":"2018-12-19","slug":"/post/2018-12-19-diary/"},"frontmatter":{"title":"スマブラしてた"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/post/2018-12-20-diary/","prevSlug":"/post/2018-12-21-diary/","nextSlug":"/post/2018-12-19-diary/"}}}