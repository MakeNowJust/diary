{
    "componentChunkName": "component---src-templates-post-js",
    "path": "/post/2020-03-19-diary/",
    "result": {"data":{"site":{"siteMetadata":{"title":"℘ make now just"}},"markdownRemark":{"html":"<h1>やったこと</h1>\n<h2>ReRE.js</h2>\n<p>TNFAの論文を読んだことにより大分まとまった。</p>\n<p>後読みの問題は、分岐命令に優先度を付けて、優先度の高い分岐から来たものを優先するようにすればいいと思う。<br>\n通常の場合は左優先だから、命令セットを工夫すれば早いもの勝ちで上手くいくのだけど、後読みの場合はそうではないので優先度をちゃんと保持しなければいけない、という感じ。<br>\nこのアイディアはTNFAに由来している。</p>\n<p>他に面倒に感じていることとして、先読みのキャプチャの保持がある。<br>\nこれには二つの場合の面倒さがあって‥‥、</p>\n<ul>\n<li><code>/(?=([ab])).*/</code> みたいな場合。<br>\n<code>aaab</code> みたいなのにマッチさせるとき、どの位置から開始した先読みなのかと、各位置からのキャプチャを保持する必要がある。</li>\n<li><code>/(?:(a)(?=.*(a)$)|(b)(?=.*(b)$)).*/</code> みたいな場合。<br>\nどちらの先読みが成立するか分からないけど、各分岐でキャプチャが変わるので、先読み状態(<code>LinkSet</code>)毎にキャプチャを持たなければいけない。</li>\n</ul>\n<p>というわけで最終的な開始位置とキャプチャは<code>LinkSet</code>毎に持たせて、キャプチャは開始位置毎に複数持てるようにするのが正しいっぽい。<br>\nめっちゃ効率悪そうだけど、とりあえず動かないとしんどいし、この方針でやってみたい。<br>\n参照してる<code>LinkSet</code>が無くなったタイミングで、その開始位置のキャプチャは削除する、とかできそうだけど、参照カウンタみたいなのが必要になりそうな気がして、それはそれでしんどいと思う。</p>\n<p>あと<code>RegExpCompat</code>のテストをちゃんと書いた。<br>\n<code>class</code>構文を使ってると呼び出しがちゃんと動かなかったので、その辺を直したりもした。<br>\n結果型チェックがガバガバになったけどやむなし。‥‥本当にそれでいいのか？<br>\nでもカバレッジは98%を越えた。高すぎて違和感あるが‥‥。</p>\n<p>で、publishの前にビルドするのを忘れたので一気に<code>v0.1.3</code>がリリースされた。<br>\nほんまアホ。<br>\n<code>prepack</code>コマンドを仕込んだのでマシになると信じたい。</p>\n<h2>6th Street</h2>\n<p>今日のBingの壁紙だった。</p>\n<p><a href=\"https://www.bing.com/images/search?view=detailV2&#x26;ccid=rJ3edbxp&#x26;id=181BA3B36E94E72BC9214B784A79C2CFD38F1F2F&#x26;thid=OIF.VJkd1WB8fUdx8e2eoWRJIg&#x26;mediaurl=https:%2F%2Fimages.colorpea.com%2F2eec2f6ac0fd46fe930cf9a9528b9ef5_480.jpg&#x26;exph=480&#x26;expw=853&#x26;q=%E3%82%B7%E3%83%83%E3%82%AF%E3%82%B9%E3%82%B9%E3%83%88%E3%83%AA%E3%83%BC%E3%83%88+%E3%82%AA%E3%83%BC%E3%82%B9%E3%83%86%E3%82%A3%E3%83%B3&#x26;simid=233933459229&#x26;selectedindex=1&#x26;adlt=demote&#x26;shtp=GetUrl&#x26;shid=ebee56f2-7a89-4489-9881-6d67845b1077&#x26;shtk=772i44K344OD44Kv44K544K544OI44Oq44O844OI772j57Gz5Zu944OG44Kt44K144K55beeLCDjgqrjg7zjgrnjg4bjgqPjg7MgfCBCaW5n44Gu55S75YOP&#x26;shdk=QmluZyDkuIrjga4gY29sb3JwZWEuY29tIOOBq%2Bimi%2BOBpOOBi%2BOCiuOBvuOBl%2BOBnw%3D%3D&#x26;shhk=sUG4YL1q50wAq9SyZacyhhC1Bk3cjWHygEU142BGS74%3D&#x26;form=EX0023&#x26;shth=OSH.o28q2ss4ZJiURSIT5an4LQ\" class=\"embedly-card\">https://www.bing.com/images/search?view=detailV2&#x26;ccid=rJ3edbxp&#x26;id=181BA3B36E94E72BC9214B784A79C2CFD38F1F2F&#x26;thid=OIF.VJkd1WB8fUdx8e2eoWRJIg&#x26;mediaurl=https:%2F%2Fimages.colorpea.com%2F2eec2f6ac0fd46fe930cf9a9528b9ef5_480.jpg&#x26;exph=480&#x26;expw=853&#x26;q=%E3%82%B7%E3%83%83%E3%82%AF%E3%82%B9%E3%82%B9%E3%83%88%E3%83%AA%E3%83%BC%E3%83%88+%E3%82%AA%E3%83%BC%E3%82%B9%E3%83%86%E3%82%A3%E3%83%B3&#x26;simid=233933459229&#x26;selectedindex=1&#x26;adlt=demote&#x26;shtp=GetUrl&#x26;shid=ebee56f2-7a89-4489-9881-6d67845b1077&#x26;shtk=772i44K344OD44Kv44K544K544OI44Oq44O844OI772j57Gz5Zu944OG44Kt44K144K55beeLCDjgqrjg7zjgrnjg4bjgqPjg7MgfCBCaW5n44Gu55S75YOP&#x26;shdk=QmluZyDkuIrjga4gY29sb3JwZWEuY29tIOOBq%2Bimi%2BOBpOOBi%2BOCiuOBvuOBl%2BOBnw%3D%3D&#x26;shhk=sUG4YL1q50wAq9SyZacyhhC1Bk3cjWHygEU142BGS74%3D&#x26;form=EX0023&#x26;shth=OSH.o28q2ss4ZJiURSIT5an4LQ</a></p>\n<p>なぜかよく分からないけれど、この風景にすごく衝撃を受けている。<br>\nこの街にいつか行ってみたい。</p>\n<p>テキサスか‥‥。</p>\n<h2>Cot Editor</h2>\n<p>Markdownのシンタックスハイライトに厳しいものを感じるので、MacVimで今日のdiaryは書いてみている。<br>\nでもCot Editor軽いのと、日本語がわりとちゃんと表示できるんだよなぁ。</p>\n<h2>3月のライオン</h2>\n<p>りゅうおうのおしごとを見終わった勢いで見始めていた。<br>\nりゅうおうのおしごとはよくも悪くもバトル漫画的なのに比べて、こっちは人間を描くなぁ、と思う。<br>\nどっちが良いのかというと難しくて、実はりゅうおうのおしごとの方が『将棋』というゲーム自体は描けているのではないか、という気もする。<br>\n難しい。</p>\n<h2><code>acorn</code>の脆弱性</h2>\n<p>これはRegular Expressionをパースする際に起こる問題であってREDoSではないだろう、と思わんでもない。<br>\nなんなのか。</p>\n<p><a href=\"https://www.npmjs.com/advisories/1488\" class=\"embedly-card\">https://www.npmjs.com/advisories/1488</a></p>\n<h2>シャニ</h2>\n<p>ホワイトデーのアイテムを使い切ってなかったので急いで消化した。<br>\nイルミネしかコミュ見なかったけど、まあいいか‥‥。</p>\n<p>唐突にめぐるを引いた。<br>\nうれしい。</p>\n<p><a href=\"https://mobile.twitter.com/make_now_just/status/1240645901644730369\" class=\"embedly-card\">https://mobile.twitter.com/make_now_just/status/1240645901644730369</a></p>\n<h2>ミリシタ</h2>\n<p>ロイヤルスターレットマスターになった。<br>\n思ったより時間かかったな。まあそんなに全力で走ってなかったしなぁ。</p>\n<p>しかしここ最近不具合多いけど大丈夫なのかね‥‥。<br>\n不安だ。</p>\n<p>あとイベントは10万ptまで取った。<br>\n2500位走り切ろうかどうしようか‥‥。<br>\n面倒になりつつある。</p>\n<h2>グラブル</h2>\n<p>ガチャピンに感謝。<br>\nというか、ここ数日ガチャの調子よくない？</p>\n<p><a href=\"https://mobile.twitter.com/make_now_just/status/1240470847313207296\" class=\"embedly-card\">https://mobile.twitter.com/make_now_just/status/1240470847313207296</a></p>\n<h2>diary</h2>\n<p>リスト関連のスタイルがイマイチな気がしたので修正した。<br>\n<code>list-style-position</code>は<code>outside</code>にした方が無難っぽいなぁ。</p>","fields":{"date":"2020-03-19"},"frontmatter":{"title":"6th Streetに行きたい"},"excerpt":"やったこと ReRE.js TNFAの論文を読んだことにより大分まとまった。 後読みの問題は、分岐命令に優先度を付けて、優先度の高い分岐から来たものを優先するようにすればいいと思う。 通常の場合は左優先だから、命令セットを工夫すれば早いもの勝ちで上手くいくのだけど、後読みの場合…"},"prev":{"fields":{"date":"2020-03-20","slug":"/post/2020-03-20-diary/"},"frontmatter":{"title":"勉強していた"}},"next":{"fields":{"date":"2020-03-18","slug":"/post/2020-03-18-diary/"},"frontmatter":{"title":"深層マーメイド、アライアンス・スターダストイベントはじめ"}}},"pageContext":{"slug":"/post/2020-03-19-diary/","prevSlug":"/post/2020-03-20-diary/","nextSlug":"/post/2020-03-18-diary/"}},
    "staticQueryHashes": ["530032413"]}