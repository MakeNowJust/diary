---
title: 後方参照やってる
---

# やったこと

## ReDoS

後方参照の実装を詰めていた。
実装的に気持ち悪い部分があったので、型をよりしっかりとさせて、甘い部分を無くしたり、後方参照を置換する部分を仕上げたりした。

最終的なコードはこんな感じ。

<https://scastie.scala-lang.org/4VaJQBj9QyWualqNQ5gjaw>

これに先読みとか追加するのも試してみるか。
