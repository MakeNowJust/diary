---
title: 後方参照の展開むずい
---

# やったこと

## ReDoS

`/(foo|bar)\1(baz)\2/` みたいになってるときに `/foofoobaz|barbarbaz/` じゃなくて `/(?:foofoo|barbar)baz/` と展開されてほしいけど、今の方針じゃ上手くいかないな、と気付いたのでどうにかしなければと考えている。
無限にコーナーケースがある気がするのがつらいところ。
